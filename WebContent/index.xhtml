<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>AmchartJS</title>

	<script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
	<script src="https://www.amcharts.com/lib/3/serial.js"></script>
	<script
		src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
	<link rel="stylesheet"
		href="https://www.amcharts.com/lib/3/plugins/export/export.css"
		type="text/css" media="all" />
	<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>


	<style>
#chartdiv {
	width: 100%;
	height: 500px;
}
</style>



</h:head>
<h:body>
	<h:form id="form">
		<div id="chartdiv"></div>
		<p:inputText id="dataStr" value="#{languageBean.jsonString}"/>

	</h:form>

	<script>
	
		var json_data = JSON.parse(document.getElementById("form:dataStr").value);
	
		console.log(json_data);
		
		var chart = AmCharts
				.makeChart(
						"chartdiv",
						{
							"type" : "serial",
							"theme" : "light",
							"dataProvider" : json_data,
							"valueAxes" : [ {
								"maximum" : 80000,
								"minimum" : 0,
								"axisAlpha" : 0,
								"dashLength" : 4,
								"position" : "left"
							} ],
							"startDuration" : 1,
							"graphs" : [ {
								"balloonText" : "[[category]]: [[value]]",
								"bulletOffset" : 10,
								"bulletSize" : 52,
								"colorField" : "color",
								"cornerRadiusTop" : 8,
								"customBulletField" : "bullet",
								"fillAlphas" : 0.8,
								"lineAlpha" : 0,
								"type" : "column",
								"valueField" : "points"
							} ],
							"marginTop" : 0,
							"marginRight" : 0,
							"marginLeft" : 0,
							"marginBottom" : 0,
							"autoMargins" : false,
							"categoryField" : "name",
							"categoryAxis" : {
								"axisAlpha" : 0,
								"gridAlpha" : 0,
								"inside" : true,
								"tickLength" : 0
							},
							"export" : {
								"enabled" : true
							}
						});
	</script>
</h:body>
</html>